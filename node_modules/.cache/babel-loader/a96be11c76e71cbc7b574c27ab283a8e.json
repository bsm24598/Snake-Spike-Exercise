{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/Snake-Spike/spike-exercise-snake-game/react-snake-START-HERE/src/App.js\";\nimport { useInterval } from \"./useInterval\"; //change\n\nimport React, { useState, useRef, useEffect } from \"react\"; //change\n//program variables\n\nconst boardGameSize = [window.innerWidth - 100, window.innerHeight - 100];\nlet totalScore = 0; //last key that was pushed in the game.\n//this helps avoid key collisions\n//Please refer to snakeKeyMovement method\n\nlet lastArrowPushed = 0;\nconst SNAKE_START = [//change\n[8, 7], [8, 8]];\nconst APPLE_START = [8, 3]; //change\n\nconst SCALE = 60; //change\n\nlet snakeSpeed = 350;\nconst DIRECTIONS = {\n  //change\n  38: [0, -1],\n  // up  //change comment`\n  40: [0, 1],\n  // down  //change comment\n  37: [-1, 0],\n  // left  //change comment\n  39: [1, 0] // right //change comment\n\n}; ///////////////////////////////////\n//Edit everything below this line\n\nconst App = () => {\n  //change\n  const canvasRef = useRef(); //change\n\n  const [snake, setSnake] = useState(SNAKE_START); //change\n\n  const [apple, setApple] = useState(APPLE_START); //change\n\n  const [dir, setDir] = useState([0, -1]); //change\n\n  const [speed, setSpeed] = useState(null); //change\n\n  const [gameOver, setGameOver] = useState(false); //change\n\n  useInterval(() => gameLoop(), speed); //change\n\n  const endGame = () => {\n    //change\n    setSpeed(null); //change\n\n    setGameOver(true); //change\n  }; //const moveSnake = ({keyCode}) => keyCode >= 37 && keyCode <= 40 && setDir(DIRECTIONS[keyCode]) && console.log(\"moving\"); //change\n\n\n  const snakeKeyMovement = ({\n    keyCode\n  }) => {\n    console.log(\"snake is moving\");\n    console.log(keyCode);\n\n    if (keyCode === 38) {\n      console.log(\"Up ARROW pushed\");\n\n      if (!(lastArrowPushed === 40)) {\n        console.log(\"ALL IS GOOD\");\n        lastArrowPushed = 38;\n        setDir(DIRECTIONS[38]); //change setDir name and Directions name\n      } else {\n        alert(\"Game over\");\n      }\n    } else if (keyCode === 39) {\n      console.log(\"Right ARROW pushed\");\n\n      if (!(lastArrowPushed === 37)) {\n        console.log(\"ALL IS GOOD\");\n        lastArrowPushed = 39;\n        setDir(DIRECTIONS[39]); //change setDir name and directions name\n      } else {\n        alert(\"Game over\");\n      }\n    } else if (keyCode === 40) {\n      console.log(\"Down ARRAOW pushed\");\n\n      if (!(lastArrowPushed === 38)) {\n        console.log(\"ALL IS GOOD\");\n        lastArrowPushed = 40;\n        setDir(DIRECTIONS[40]); //change setDir name and directions name\n      } else {\n        alert(\"Game over\");\n      }\n    } else if (keyCode === 37) {\n      console.log(\"Left ARROW pushed\");\n\n      if (!(lastArrowPushed === 39)) {\n        console.log(\"All is good\");\n        lastArrowPushed = 37;\n      } else {\n        alert(\"Game over\");\n      }\n    }\n  };\n\n  const createApple = () => //change\n  apple.map((_a, i) => Math.floor(Math.random() * (boardGameSize[i] / SCALE))); //change\n\n\n  const checkCollision = (piece, snk = snake) => {\n    //change\n    if ( //change\n    piece[0] * SCALE >= boardGameSize[0] || //change\n    piece[0] < 0 || //change\n    piece[1] * SCALE >= boardGameSize[1] || //change\n    piece[1] < 0 //change\n    ) return true; //change\n\n    for (const segment of snk) {\n      //change\n      if (piece[0] === segment[0] && piece[1] === segment[1]) return true; //change\n    }\n\n    return false; //change\n  };\n\n  const checkAppleCollision = newSnake => {\n    //change\n    if (newSnake[0][0] === apple[0] && newSnake[0][1] === apple[1]) {\n      //change\n      let newApple = createApple(); //change\n\n      while (checkCollision(newApple, newSnake)) {\n        //change \n        newApple = createApple(); //change \n      }\n\n      setApple(newApple); //change \n\n      snakeSpeed = snakeSpeed - 25;\n      setSpeed(snakeSpeed);\n      return true; //change \n    }\n\n    return false; //change \n  };\n\n  const gameLoop = () => {\n    //change \n    const snakeCopy = JSON.parse(JSON.stringify(snake)); //change \n\n    const newSnakeHead = [snakeCopy[0][0] + dir[0], snakeCopy[0][1] + dir[1]]; //change \n\n    snakeCopy.unshift(newSnakeHead); //change \n\n    if (checkCollision(newSnakeHead)) endGame(); //change \n\n    if (!checkAppleCollision(snakeCopy)) snakeCopy.pop(); //change \n\n    setSnake(snakeCopy); //change \n  };\n\n  const startGame = () => {\n    //change \n    snakeSpeed = 500; //change \n\n    setSnake(SNAKE_START); //change \n\n    setApple(APPLE_START); //change \n\n    setDir([0, -1]); //change \n\n    setSpeed(snakeSpeed); //change \n\n    setGameOver(false); //change \n  };\n\n  useEffect(() => {\n    //change \n    const context = canvasRef.current.getContext(\"2d\"); //change \n\n    context.setTransform(SCALE, 0, 0, SCALE, 0, 0); //change \n\n    context.clearRect(0, 0, window.innerWidth, window.innerHeight); //change \n\n    context.fillStyle = \"pink\"; //change \n\n    snake.forEach(([x, y]) => context.fillRect(x, y, 1, 1)); //change \n\n    context.fillStyle = \"lightblue\"; //change \n\n    context.fillRect(apple[0], apple[1], 1, 1); //change \n  }, [snake, apple, gameOver]); //change \n\n  return (\n    /*#__PURE__*/\n    //change \n    React.createElement(\"div\", {\n      tabIndex: \"0\",\n      onKeyDown: e => snakeKeyMovement(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"canvas\", {\n      ref: canvasRef,\n      width: `${boardGameSize[0]}px`,\n      height: `${boardGameSize[1]}px`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }\n    })), gameOver && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 20\n      }\n    }, \"GAME OVER!\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: startGame,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 7\n      }\n    }, \"Start Game\"))\n  ); //change \n};\n\nexport default App;","map":{"version":3,"sources":["/home/user/Desktop/Snake-Spike/spike-exercise-snake-game/react-snake-START-HERE/src/App.js"],"names":["useInterval","React","useState","useRef","useEffect","boardGameSize","window","innerWidth","innerHeight","totalScore","lastArrowPushed","SNAKE_START","APPLE_START","SCALE","snakeSpeed","DIRECTIONS","App","canvasRef","snake","setSnake","apple","setApple","dir","setDir","speed","setSpeed","gameOver","setGameOver","gameLoop","endGame","snakeKeyMovement","keyCode","console","log","alert","createApple","map","_a","i","Math","floor","random","checkCollision","piece","snk","segment","checkAppleCollision","newSnake","newApple","snakeCopy","JSON","parse","stringify","newSnakeHead","unshift","pop","startGame","context","current","getContext","setTransform","clearRect","fillStyle","forEach","x","y","fillRect","e"],"mappings":"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","sourcesContent":["import { useInterval } from \"./useInterval\"; //change\nimport React, { useState, useRef, useEffect } from \"react\"; //change\n\n//program variables\n\nconst boardGameSize = [window.innerWidth - 100, window.innerHeight - 100];\nlet totalScore = 0;\n\n//last key that was pushed in the game.\n//this helps avoid key collisions\n//Please refer to snakeKeyMovement method\nlet lastArrowPushed = 0;\n\n\nconst SNAKE_START = [ //change\n  [8, 7],\n  [8, 8]\n];\nconst APPLE_START = [8, 3]; //change\nconst SCALE = 60; //change\nlet snakeSpeed = 350;\nconst DIRECTIONS = {  //change\n  38: [0, -1], // up  //change comment`\n  40: [0, 1], // down  //change comment\n  37: [-1, 0], // left  //change comment\n  39: [1, 0] // right //change comment\n};\n\n\n///////////////////////////////////\n//Edit everything below this line\n\nconst App = () => { //change\n  const canvasRef = useRef(); //change\n  const [snake, setSnake] = useState(SNAKE_START); //change\n  const [apple, setApple] = useState(APPLE_START); //change\n  const [dir, setDir] = useState([0, -1]); //change\n  const [speed, setSpeed] = useState(null); //change\n  const [gameOver, setGameOver] = useState(false); //change\n\n  useInterval(() => gameLoop(), speed); //change\n\n  const endGame = () => { //change\n    setSpeed(null); //change\n    setGameOver(true); //change\n  };\n\n    //const moveSnake = ({keyCode}) => keyCode >= 37 && keyCode <= 40 && setDir(DIRECTIONS[keyCode]) && console.log(\"moving\"); //change\n\n    const snakeKeyMovement = ({keyCode}) => {\n      console.log(\"snake is moving\");\n      console.log(keyCode);\n      if(keyCode === 38) {\n        console.log(\"Up ARROW pushed\");\n        if(!(lastArrowPushed === 40)) {\n          console.log(\"ALL IS GOOD\")\n          lastArrowPushed = 38;\n          setDir(DIRECTIONS[38]); //change setDir name and Directions name\n        } else {\n          alert(\"Game over\");\n        }\n      } else if(keyCode ===  39) {\n        console.log(\"Right ARROW pushed\");\n        if(!(lastArrowPushed === 37)) {\n          console.log(\"ALL IS GOOD\");\n          lastArrowPushed = 39;\n          setDir(DIRECTIONS[39]); //change setDir name and directions name\n        } else {\n          alert(\"Game over\");\n        }\n      } else if(keyCode === 40) {\n        console.log(\"Down ARRAOW pushed\");\n        if(!(lastArrowPushed === 38)) {\n          console.log(\"ALL IS GOOD\");\n          lastArrowPushed = 40;\n          setDir(DIRECTIONS[40]); //change setDir name and directions name\n        } else {\n          alert(\"Game over\");\n        }\n      } else if(keyCode === 37) {\n        console.log(\"Left ARROW pushed\");\n        if(!(lastArrowPushed === 39)) {\n          console.log(\"All is good\");\n          lastArrowPushed = 37;\n        } else {\n          alert(\"Game over\");\n        }\n      }\n    }\n\n\n  const createApple = () => //change\n    apple.map((_a, i) => Math.floor(Math.random() * (boardGameSize[i] / SCALE))); //change\n\n  const checkCollision = (piece, snk = snake) => { //change\n    if ( //change\n      piece[0] * SCALE >= boardGameSize[0] || //change\n      piece[0] < 0 || //change\n      piece[1] * SCALE >= boardGameSize[1] || //change\n      piece[1] < 0 //change\n    )\n      return true; //change\n\n    for (const segment of snk) { //change\n      if (piece[0] === segment[0] && piece[1] === segment[1]) return true; //change\n    }\n    return false; //change\n  };\n\n  const checkAppleCollision = newSnake => { //change\n    if (newSnake[0][0] === apple[0] && newSnake[0][1] === apple[1]) { //change\n      let newApple = createApple(); //change\n      while (checkCollision(newApple, newSnake)) {//change \n        newApple = createApple();//change \n      }\n      setApple(newApple);//change \n      snakeSpeed = snakeSpeed - 25;\n      setSpeed(snakeSpeed);\n      return true;//change \n    }\n    return false;//change \n  };\n\n  const gameLoop = () => {//change \n    const snakeCopy = JSON.parse(JSON.stringify(snake));//change \n    const newSnakeHead = [snakeCopy[0][0] + dir[0], snakeCopy[0][1] + dir[1]];//change \n    snakeCopy.unshift(newSnakeHead);//change \n    if (checkCollision(newSnakeHead)) endGame();//change \n    if (!checkAppleCollision(snakeCopy)) snakeCopy.pop();//change \n    setSnake(snakeCopy);//change \n  };\n\n  const startGame = () => {//change \n    snakeSpeed = 500; //change \n    setSnake(SNAKE_START); //change \n    setApple(APPLE_START); //change \n    setDir([0, -1]); //change \n    setSpeed(snakeSpeed); //change \n    setGameOver(false); //change \n  };\n\n  useEffect(() => { //change \n    const context = canvasRef.current.getContext(\"2d\");//change \n    context.setTransform(SCALE, 0, 0, SCALE, 0, 0); //change \n    context.clearRect(0, 0, window.innerWidth, window.innerHeight); //change \n    context.fillStyle = \"pink\"; //change \n    snake.forEach(([x, y]) => context.fillRect(x, y, 1, 1)); //change \n    context.fillStyle = \"lightblue\"; //change \n    context.fillRect(apple[0], apple[1], 1, 1);  //change \n  }, [snake, apple, gameOver]); //change \n\n  return ( //change \n    <div tabIndex=\"0\" onKeyDown={e => snakeKeyMovement(e)}> \n        <center>\n      <canvas\n        ref={canvasRef}\n        width={`${boardGameSize[0]}px`}\n        height={`${boardGameSize[1]}px`}\n      />\n      </center>\n      {gameOver && <div>GAME OVER!</div>}\n      <button onClick={startGame}>Start Game</button>\n    </div>\n  ); //change \n};\n\nexport default App;"]},"metadata":{},"sourceType":"module"}